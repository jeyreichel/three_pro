import{W as M,O as w,f as x,T as A,B as b,P,d as T,e as z,V as D,A as I,Q as j}from"./ProjectedMaterial.module-876ae037.js";/* empty css              */import{v as E,a as L}from"./three-utils-aefa6cee.js";import{r as a}from"./math-utils-91d3642c.js";const k=document.querySelector("#app"),o=new M({canvas:k,background:"#111",showFps:!0,orbitControls:!0,orthographic:!0});window.webgl=o;const l=50,e=new w,d=new x,s=E(0,o.camera),n=L(0,o.camera),v=new A().load("./images/lukasz-szmigiel-unsplash.jpg"),m=new b(.3,.3,.3);m.clearGroups();const g=[];for(let t=0;t<2;t++){const f=new P({camera:o.camera,texture:v,color:o.background,cover:!0,transparent:!0});g.push(f),m.addGroup(0,1/0,t)}T(m,l);const i=new z(m,g,l);o.scene.add(i);for(let t=0;t<l;t++)t===0?(e.position.set(0,0,-s/2-.15),e.scale.set(s*8,n*8,1)):t===1?(e.position.set(0,n/2+.5,0),e.scale.set(n*8,1,s*8)):t<l*(1/3)?(e.position.x=a(-s/2,s/2),e.position.y=a(-n/2,n/2),e.position.z=-s/2+.3,e.scale.x=a(1,4),e.scale.y=a(1,4),e.scale.z=a(1,4)):t<l*(2/3)?(e.position.x=a(-s/2,s/2),e.position.y=n/2+.3,e.position.z=a(-s/2,s/2),e.scale.x=a(1,4),e.scale.y=a(1,4),e.scale.z=a(1,4)):(e.position.x=a(-s/2,s/2),e.position.y=a(-n/2,n/2),e.position.z=a(-s/2,s/2),e.scale.x=a(.5,3),e.scale.y=a(.5,3),e.scale.z=a(.5,3)),e.updateMatrix(),i.setMatrixAt(t,e.matrix),i.material[0].projectInstanceAt(t,i,e.matrix);const Q=new D().copy(o.camera.position);o.camera.position.set(0,-4,0);o.camera.up.set(-1,0,0);o.camera.lookAt(0,0,0);for(let t=0;t<l;t++)i.getMatrixAt(t,d),i.material[1].projectInstanceAt(t,i,d);o.camera.position.copy(Q);o.camera.up.copy(w.DEFAULT_UP);o.camera.lookAt(0,0,0);const q=i.quaternion.clone();e.applyMatrix4(new x);e.rotateX(-Math.PI/2);e.rotateY(Math.PI/2);const G=e.quaternion.clone(),h=new j,S=1,p=1500;let y=0,r=!1,c=!1;o.onUpdate((t,f)=>{const u=Math.cos(y)*.5+.5;u>.9999&&!r&&!c&&(r=!0,c=!0,setTimeout(()=>r=!1,p),setTimeout(()=>c=!1,p+100)),u<1e-4&&!r&&!c&&(r=!0,c=!0,setTimeout(()=>r=!1,p),setTimeout(()=>c=!1,p+100)),!r&&(y+=t*S,h.copy(q).slerp(G,u),i.quaternion.copy(h))});const U=new I("#ffffff",1);o.scene.add(U);o.start();
